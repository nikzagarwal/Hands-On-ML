<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Pre-Processing</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="{{url_for('static',filename='style.css')}}">
    <script src="{{url_for('static',filename='index.js')}}"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/4.1.2/papaparse.js"></script>
</head>

<body>


    <!--section 1-->
    <section>
        <div class="goalbox">
            <h1>Pre-Processing Data</h1>
            <p>" In this section you can choose how you want to preprocess Data "
            </p>
            <p>Note: You can enter row, column number for input and leave it blank if you don't want specific change</p>
            <br>
        </div>


        <div class="border border-light p-3 mb-4">

            <div class="text-center">
                <button type="button" name="load_data" id="load_data" class="btn btn-primary">Load Original
                    Data</button>
            </div>
            <br>
            <script>
                $(document).ready(function () {
                    $('#load_data').click(function () {
                        $.ajax({
                            url: "static/cardata.csv",
                            dataType: "text",
                            success: function (data) {
                                var csvdata = data.split(/\r?\n|\r/);
                                var table_data = '<table class="table table-bordered table-striped">';
                                for (var count = 0; count < (csvdata.length * 0.1); count++) {
                                    var cell_data = csvdata[count].split(",");
                                    table_data += '<tr>';
                                    for (var cell_count = 0; cell_count < cell_data.length; cell_count++) {
                                        if (count === 0) {
                                            table_data += '<th>' + cell_data[cell_count] + '</th>';
                                        }
                                        else {
                                            table_data += '<td>' + cell_data[cell_count] + '</td>';
                                        }
                                    }
                                    table_data += '</tr>';
                                }
                                table_data += '</table>';
                                $('#data_table').html(table_data);
                            }
                        });
                    });

                });
            </script>
            <div id="data_table" style="margin: 1em 5em 1em 5em;">
            </div>
        </div>


        <div class="container">
            <form name="data" action="/{{project.sno}}" method="POST">
                <div class="row">
                    <div class="col-50">
                        <label for="colno">Which columns you want to drop?</label>
                    </div>
                    <div class="col-50">
                        <input type="text" id="colno" name="colno" placeholder="Column no. seperated by comma">
                    </div>
                </div>
                <div class="row">
                    <div class="col-50">
                        <label for="rowno">Which rows you want to drop?</label>
                    </div>
                    <div class="col-50">
                        <input type="text" id="rowno" name="rowno" placeholder="Row no. seperated by comma" >
                    </div>
                </div>


                <div class="row">
                    <div class="col-50">
                        <label for="encodetype">How do you want to encode columns?</label>
                    </div>
                    <div class="col-50">
                        <select id="encodetype" name="encodetype">
                            <option value="labelencode">labelencode</option>
                            <option value="onehot">onehot</option>
                        </select>
                    </div>
                </div>

                <div class="row">
                    <div class="col-50">
                        <label for="encode">Which columns you want to encode?</label>
                    </div>
                    <div class="col-50">
                        <input type="text" id="encode" name="encode" placeholder="Column no. seperated by comma">
                    </div>
                </div>

                <div class="row">
                    <div class="col-50">
                        <label for="scaletype">How do you want to scale?</label>
                    </div>
                    <div class="col-50">
                        <select id="scaletype" name="scaletype">
                            <option value="standarization">Standarization</option>
                            <option value="normalization">Normalization</option>
                        </select>
                    </div>
                </div>

                <div class="row">
                    <div class="col-50">
                        <label for="scale">Which columns you want to scale?</label>
                    </div>
                    <div class="col-50">
                        <input type="text" id="scale" name="scale" placeholder="Column no. seperated by comma">
                    </div>
                </div>
                <div class="row">
                    <div class="col-50">
                        <label for="target">Which columns you want to set as target?</label>
                    </div>
                    <div class="col-50">
                        <input type="number" id="target" name="target" placeholder="Column number" required>
                    </div>
                </div>

                <div class="row but" >
                    <button type="submit" style=" background-color:rgb(43, 41, 54);
                    color: white;
                    padding: 12px 20px;
                    border: none;
                    margin: 20px;
                    width: 200px;
                    border-radius: 4px;
                    cursor: pointer;
                    float: right;" >Clean Now</button>
                </div>
            </form>
        </div>

        <!-- result  -->

        <div class="border border-light p-3 mb-4">

            <div class="text-center">
                <button type="button" name="load_cdata" id="load_cdata" class="btn btn-primary">Load Clean
                    Data</button>
            </div>
            <br>
            <script>
                $(document).ready(function () {
                    $('#load_cdata').click(function () {
                        $.ajax({
                            url: "dftrain.csv",
                            dataType: "text",
                            success: function (data) {
                                var csvdata = data.split(/\r?\n|\r/);
                                var ctable_data = '<table class="table table-bordered table-striped">';
                                for (var count = 0; count < (csvdata.length * 0.1); count++) {
                                    var cell_data = csvdata[count].split(",");
                                    ctable_data += '<tr>';
                                    for (var cell_count = 0; cell_count < cell_data.length; cell_count++) {
                                        if (count === 0) {
                                            ctable_data += '<th>' + cell_data[cell_count] + '</th>';
                                        }
                                        else {
                                            ctable_data += '<td>' + cell_data[cell_count] + '</td>';
                                        }
                                    }
                                    ctable_data += '</tr>';
                                }
                                ctable_data += '</table>';
                                $('#cdata_table').html(ctable_data);
                            }
                        });
                    });

                });
            </script>
            <div id="cdata_table" style="margin: 1em 5em 1em 5em;">
            </div>
        </div>

    </section>
    <!-- End of goal section  -->
    <br><br>

</body>
<!-- End Of body section  -->

</html>